{% extends "base.html" %} {% block content %}

<div class="container">
  <h1>Editing Item</h1>
  <div class="col-sm-auto">
    <button
      type="submit"
      class="btn btn-outline-secondary"
      onclick="window.location.href='/all_items'"
    >
      Back to Item List
    </button>
  </div>
  <hr />
  <div class="container">
    <form class="edit_item" id="edit_item" method="post">
      {% csrf_token %}
      <div class="form-group row">
        <label for="name" class="col-sm-2 col-form-label">
          Item Name:
        </label>
        <div class="col-sm-10">
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            placeholder="Enter Item name"
            value="{{ form.name.value }}"
            required
          />
        </div>
        <label for="category" class="col-sm-2 col-form-label">
          Category:
        </label>
        <div class="col-sm-10">
          <select class="form-control" id="category" name="category" required>
            <!-- prettier-ignore -->
            {% for category in categories %}
            {% if category.pk == form.category.value %}
            <option value="{{ category.pk }}" selected>
              {{ category.name }}
            </option>
            {% else %}
            <option value="{{ category.pk }}">{{ category.name }}</option>
            {% endif %} {% endfor %}
          </select>
        </div>
        <label for="original_price" class="col-sm-2 col-form-label">
          Original Price:
        </label>
        <div class="col-sm-10">
          <input
            type="number"
            class="form-control"
            id="original_price"
            name="original_price"
            placeholder="Enter original price"
            value="{{ form.original_price.value }}"
            required
          />
        </div>
        <label for="discount_price" class="col-sm-2 col-form-label">
          Discounted Price:
        </label>
        <div class="col-sm-10">
          <input
            type="number"
            class="form-control"
            id="discount_price"
            name="discount_price"
            placeholder="Enter discounted price"
            value="{{ form.discount_price.value }}"
          />
        </div>
        <label for="weight_in_gms" class="col-sm-2 col-form-label">
          Weight in grams:
        </label>
        <div class="col-sm-10">
          <input
            type="number"
            class="form-control"
            id="weight_in_gms"
            name="weight_in_gms"
            placeholder="Enter weight per item"
            value="{{ form.weight_in_gms.value }}"
            required
          />
        </div>
        <label for="available" class="col-sm-2 col-form-label">
          Availability:
        </label>
        <div class="col-sm-10">
          {% if form.available.value %}
          <input
            type="checkbox"
            class="form-control"
            id="available"
            name="available"
            checked
          />
          {% else %}
          <input
            type="checkbox"
            class="form-control"
            id="available"
            name="available"
          />
          {% endif %}
        </div>
      </div>
      <div class="container" style="text-align: right;">
        <button type="submit" form="edit_item" class="btn btn-primary">
          Edit Item
        </button>
      </div>
    </form>
  </div>
  <div class="container">
    <form
      class="delete_category"
      id="delete_category"
      action="delete"
      onsubmit="return confirm('Are you sure you want to delete {{ form.name.value }} category?');"
    >
      <div class="container">
        <button
          type="submit"
          form="delete_category"
          class="btn btn-danger btn-md"
        >
          Delete Category
        </button>
      </div>
    </form>
  </div>
</div>

{% endblock %}
